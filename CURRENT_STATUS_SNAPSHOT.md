# YouTube to Text - å½“å‰çŠ¶æ€å¿«ç…§
è®°å½•æ—¶é—´ï¼š2025-08-05 11:14 PM

## ğŸŸ¢ è¿è¡ŒçŠ¶æ€
- **æœ¬åœ°æœåŠ¡å™¨**ï¼šæ­£å¸¸è¿è¡Œä¸­
- **è®¿é—®åœ°å€**ï¼šhttp://localhost:3000
- **ç«¯å£**ï¼š3000
- **è¿›ç¨‹ID**ï¼š31098

## ğŸ“Š ç‰ˆæœ¬ä¿¡æ¯
- **åº”ç”¨ç‰ˆæœ¬**ï¼šv2.2.0
- **Next.jsç‰ˆæœ¬**ï¼š14.2.15
- **æ„å»ºæ—¥æœŸ**ï¼š2025-08-05

## âœ… åŠŸèƒ½çŠ¶æ€
æ‰€æœ‰åŠŸèƒ½å‡æ­£å¸¸å·¥ä½œï¼š
- âœ… YouTubeå­—å¹•æå–ï¼ˆInnerTube APIï¼‰
- âœ… ä»£ç†åŠŸèƒ½ï¼ˆé¿å…CORSï¼‰
- âœ… è°ƒè¯•é¢æ¿ï¼ˆCtrl/Cmd + Dï¼‰
- âœ… å¤–éƒ¨æœåŠ¡å¤‡ç”¨
- âœ… æ‰‹åŠ¨è¾“å…¥æ”¯æŒ

## ğŸ”§ æŠ€æœ¯å®ç°
### ä¸»è¦æå–æ–¹æ³•ï¼ˆæŒ‰ä¼˜å…ˆçº§ï¼‰
1. **InnerTube API**ï¼ˆå½“å‰ä¸»è¦æ–¹æ³•ï¼‰
   - API Key: AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8
   - Client Version: 2.20240726.00.00
   - æˆåŠŸç‡ï¼šé«˜
   - æ–‡ä»¶ï¼š`src/lib/youtube-innertube.ts`

2. **youtube-transcriptåº“**ï¼ˆå¤‡ç”¨ï¼‰
   - npmåŒ…ï¼šyoutube-transcript
   - æ–‡ä»¶ï¼š`src/lib/youtube-transcript.ts`

3. **å¤–éƒ¨æœåŠ¡**ï¼ˆæœ€åå¤‡ç”¨ï¼‰
   - downsub.com
   - æ–‡ä»¶ï¼š`src/lib/youtube-external.ts`

## ğŸ“ é¡¹ç›®ç»“æ„
```
Youtubetotext/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”‚   â”œâ”€â”€ health/          # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ proxy/           # CORSä»£ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ youtube-transcript/ # ä¸»è¦API
â”‚   â”‚   â”‚   â””â”€â”€ test-direct/     # æµ‹è¯•ç«¯ç‚¹
â”‚   â”‚   â”œâ”€â”€ page.tsx             # ä¸»é¡µé¢
â”‚   â”‚   â””â”€â”€ layout.tsx           # å¸ƒå±€
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ youtube-transcript.ts  # ä¸»è¦é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ youtube-innertube.ts   # InnerTubeå®ç°
â”‚   â”‚   â”œâ”€â”€ youtube-api.ts         # APIè¾…åŠ©
â”‚   â”‚   â”œâ”€â”€ youtube-external.ts    # å¤–éƒ¨æœåŠ¡
â”‚   â”‚   â””â”€â”€ youtube-direct.ts      # ç›´æ¥URLï¼ˆå·²å¼ƒç”¨ï¼‰
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ DebugPanel.tsx         # è°ƒè¯•é¢æ¿
â”œâ”€â”€ package.json
â”œâ”€â”€ vercel.json                    # Vercelé…ç½®
â””â”€â”€ .env.local                     # ç¯å¢ƒå˜é‡

```

## ğŸ§ª æµ‹è¯•ç»“æœ
### APIæµ‹è¯•
- **å¥åº·æ£€æŸ¥**ï¼šâœ… 200 OK
- **å­—å¹•æå–æµ‹è¯•**ï¼š
  - è§†é¢‘ï¼šnKIu9yen5nc
  - ç»“æœï¼šæˆåŠŸæå–5150å­—ç¬¦
  - è€—æ—¶ï¼š973ms
  - æ–¹æ³•ï¼šInnerTube API

### æœ€è¿‘ä¿®å¤
1. **XMLè§£æé—®é¢˜**ï¼šå·²ä¿®å¤
   - é—®é¢˜ï¼šè¿”å›åŸå§‹XMLè€Œéæ–‡æœ¬
   - è§£å†³ï¼šæ”¹è¿›æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…
   - æ–‡ä»¶ï¼š`youtube-innertube.ts` ç¬¬156-182è¡Œ

2. **InnerTube APIé›†æˆ**
   - æ·»åŠ äº†æ­£ç¡®çš„clientç‰ˆæœ¬
   - ä¿®å¤äº†TypeScriptç±»å‹é”™è¯¯
   - å®ç°äº†å¯é çš„å­—å¹•æå–

## ğŸš€ éƒ¨ç½²ä¿¡æ¯
- **GitHubä»“åº“**ï¼šhttps://github.com/WeiProduct/youtubetotext2
- **Vercelé¡¹ç›®**ï¼šå·²è¿æ¥è‡ªåŠ¨éƒ¨ç½²
- **æœ€æ–°æäº¤**ï¼š
  - SHA: 0fa94c9
  - ä¿¡æ¯ï¼šFix XML parsing for YouTube subtitles

## ğŸ“ ç¯å¢ƒé…ç½®
```bash
# .env.local
NODE_ENV=production
NEXT_PUBLIC_API_URL=http://localhost:3000
```

## ğŸ› ï¸ å¯ç”¨å‘½ä»¤
```bash
npm run dev      # å¼€å‘æ¨¡å¼
npm run build    # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm start        # è¿è¡Œç”Ÿäº§ç‰ˆæœ¬
npm run lint     # ä»£ç æ£€æŸ¥
```

## ğŸ’» ç³»ç»Ÿè¦æ±‚
- Node.js: 18+
- npm: 10.9.2
- æ“ä½œç³»ç»Ÿï¼šmacOS (darwin)

## ğŸ“Œ æ³¨æ„äº‹é¡¹
1. è§†é¢‘å¿…é¡»æœ‰å­—å¹•/CCåŠŸèƒ½
2. ç§äººè§†é¢‘æ— æ³•æå–
3. æŸäº›åœ°åŒºé™åˆ¶è§†é¢‘å¯èƒ½å¤±è´¥
4. ç›´æ¥URLæ–¹æ³•ï¼ˆyoutube-direct.tsï¼‰å·²å¼ƒç”¨

## ğŸ” è°ƒè¯•ä¿¡æ¯
- æœåŠ¡å™¨æ—¥å¿—ï¼š`server.log`
- å¼€å‘æ—¥å¿—ï¼š`dev.log`ï¼ˆå·²åŠ å…¥.gitignoreï¼‰
- è°ƒè¯•é¢æ¿ï¼šé¡µé¢ä¸ŠæŒ‰Ctrl/Cmd + D

## âœ¨ å½“å‰çŠ¶æ€æ€»ç»“
**æœ¬åœ°è¿è¡Œå®Œå…¨æ­£å¸¸**ï¼Œæ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½å·¥ä½œè‰¯å¥½ã€‚InnerTube APIæˆåŠŸé›†æˆå¹¶ç¨³å®šè¿è¡Œã€‚